{"ast":null,"code":"var _jsxFileName = \"/Users/jackiedong/Desktop/CSProjects/YMajors/client/src/providers/UserContextProvider.js\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useEffect, useState } from \"react\";\nimport axios from \"../utils/axios\";\nimport UserContext from \"../contexts/UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserContextProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [isLoading, setIsLoading] = useState(true);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [user, setUser] = useState();\n  const [courseList, setCourseList] = useState();\n  const [semesterList, setSemesterList] = useState();\n  const [userMajor, setMajor] = useState();\n  const checkContext = useCallback(() => {\n    axios.get(\"/auth/check\", {\n      withCredentials: true\n    }).then(_ref2 => {\n      let {\n        data\n      } = _ref2;\n\n      if (data.auth) {\n        setIsAuthenticated(true);\n        setUser(data.user);\n        setCourseList(data.courseList);\n        setMajor(data.major);\n        setIsLoading(false);\n      } else {\n        setIsAuthenticated(false);\n        setMajor(undefined);\n        setCourseList(undefined);\n        setSemesterList(undefined);\n        setUser(undefined);\n        setIsLoading(false);\n      }\n    }).catch(() => console.log(\"Something went wrong while trying to fetch your auth status.\"));\n  }, []);\n  useEffect(() => {\n    checkContext();\n  }, [checkContext]);\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      isLoading,\n      isAuthenticated,\n      user,\n      courseList,\n      userMajor,\n      checkContext\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserContextProvider, \"64ZGNUgd6agDMH4158WJuahuzXw=\");\n\n_c = UserContextProvider;\nexport default UserContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserContextProvider\");","map":{"version":3,"names":["useCallback","useEffect","useState","axios","UserContext","UserContextProvider","children","isLoading","setIsLoading","isAuthenticated","setIsAuthenticated","user","setUser","courseList","setCourseList","semesterList","setSemesterList","userMajor","setMajor","checkContext","get","withCredentials","then","data","auth","major","undefined","catch","console","log"],"sources":["/Users/jackiedong/Desktop/CSProjects/YMajors/client/src/providers/UserContextProvider.js"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\n\nimport axios from \"../utils/axios\";\nimport UserContext from \"../contexts/UserContext\";\n\nconst UserContextProvider = ({ children }) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [user, setUser] = useState();\n  const [courseList, setCourseList] = useState();\n  const [semesterList, setSemesterList] = useState();\n  const [userMajor, setMajor] = useState();\n  const checkContext = useCallback(() => {\n    axios\n      .get(\"/auth/check\", { withCredentials: true })\n      .then(({ data }) => {\n        if (data.auth) {\n          setIsAuthenticated(true);\n          setUser(data.user);\n          setCourseList(data.courseList);\n          setMajor(data.major);\n          setIsLoading(false);\n        } else {\n          setIsAuthenticated(false);\n          setMajor(undefined);\n          setCourseList(undefined);\n          setSemesterList(undefined)\n          setUser(undefined);\n          setIsLoading(false);\n        }\n      })\n      .catch(() =>\n        console.log(\n          \"Something went wrong while trying to fetch your auth status.\"\n        )\n      );\n  }, []);\n\n  useEffect(() => {\n    checkContext();\n  }, [checkContext]);\n\n  return (\n    <UserContext.Provider\n      value={{\n        isLoading,\n        isAuthenticated,\n        user,\n        courseList,\n        userMajor,\n        checkContext,\n      }}\n    >\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nexport default UserContextProvider;\n"],"mappings":";;;AAAA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,OAAjD;AAEA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;;;AAEA,MAAMC,mBAAmB,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EAC5C,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BN,QAAQ,CAAC,IAAD,CAA1C;EACA,MAAM,CAACO,eAAD,EAAkBC,kBAAlB,IAAwCR,QAAQ,CAAC,KAAD,CAAtD;EACA,MAAM,CAACS,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,EAAhC;EACA,MAAM,CAACW,UAAD,EAAaC,aAAb,IAA8BZ,QAAQ,EAA5C;EACA,MAAM,CAACa,YAAD,EAAeC,eAAf,IAAkCd,QAAQ,EAAhD;EACA,MAAM,CAACe,SAAD,EAAYC,QAAZ,IAAwBhB,QAAQ,EAAtC;EACA,MAAMiB,YAAY,GAAGnB,WAAW,CAAC,MAAM;IACrCG,KAAK,CACFiB,GADH,CACO,aADP,EACsB;MAAEC,eAAe,EAAE;IAAnB,CADtB,EAEGC,IAFH,CAEQ,SAAc;MAAA,IAAb;QAAEC;MAAF,CAAa;;MAClB,IAAIA,IAAI,CAACC,IAAT,EAAe;QACbd,kBAAkB,CAAC,IAAD,CAAlB;QACAE,OAAO,CAACW,IAAI,CAACZ,IAAN,CAAP;QACAG,aAAa,CAACS,IAAI,CAACV,UAAN,CAAb;QACAK,QAAQ,CAACK,IAAI,CAACE,KAAN,CAAR;QACAjB,YAAY,CAAC,KAAD,CAAZ;MACD,CAND,MAMO;QACLE,kBAAkB,CAAC,KAAD,CAAlB;QACAQ,QAAQ,CAACQ,SAAD,CAAR;QACAZ,aAAa,CAACY,SAAD,CAAb;QACAV,eAAe,CAACU,SAAD,CAAf;QACAd,OAAO,CAACc,SAAD,CAAP;QACAlB,YAAY,CAAC,KAAD,CAAZ;MACD;IACF,CAjBH,EAkBGmB,KAlBH,CAkBS,MACLC,OAAO,CAACC,GAAR,CACE,8DADF,CAnBJ;EAuBD,CAxB+B,EAwB7B,EAxB6B,CAAhC;EA0BA5B,SAAS,CAAC,MAAM;IACdkB,YAAY;EACb,CAFQ,EAEN,CAACA,YAAD,CAFM,CAAT;EAIA,oBACE,QAAC,WAAD,CAAa,QAAb;IACE,KAAK,EAAE;MACLZ,SADK;MAELE,eAFK;MAGLE,IAHK;MAILE,UAJK;MAKLI,SALK;MAMLE;IANK,CADT;IAAA,UAUGb;EAVH;IAAA;IAAA;IAAA;EAAA,QADF;AAcD,CAnDD;;GAAMD,mB;;KAAAA,mB;AAqDN,eAAeA,mBAAf"},"metadata":{},"sourceType":"module"}